<html>
<head>
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0, maximum-scale=1.0"/><link rel="stylesheet" href="airconsole-controls/button/button.css">
    <link rel="stylesheet" href="airconsole-controls/dpad/dpad.css">
    <link rel="stylesheet" href="airconsole-controls/joystick/joystick.css">
    <link rel="stylesheet" href="airconsole-controls/ctrl-generator/controller.css">
</head>

<style type="text/css">
    #dab {
        width: 100%;
        height: 100%;
        background-color: darkred;

        position: absolute;
        top:0;
        bottom: 0;
        left: 0;
        right: 0;

        margin: auto;
    }
</style>

<script type="text/javascript">
    var airconsole;
    /**
     * Sets up the communication to the screen.
     */
    function App() {
        var me = this;
        me.airconsole = new AirConsole({"orientation": "landscape", "synchronize_time" : "true"});

        /*
        me.airconsole.onReady = function(code) {
            console.log("onReady", code);
        };
        */

        me.airconsole.onConnect = function (data) {
            document.getElementById("skr").innerHTML = "My ID is: " + (data + 1).toString();
        }

        me.airconsole.onMessage = function(from, data) {
            if (data == "Dead") {
                console.log("onMessage", from, data);
                document.getElementById("cover").innerHTML = "<div id='dab' style='text-align: center; vertical-align: super;'><div style='position: absolute; top: 20%; left: 10%;'><p style='font-size: 72'>You got lost! :(</p></div></div>";
            }
            if (data == "Win") {
                document.getElementById("cover").innerHTML = "You found home!"
            }
        };

    }
</script>

<body onload="window.app = new App()">

<div id="cover">

        <div class="gamepad_container">
            <div id="left" class="left"></div>
            <div id="middle" class="middle"></div>
            <div id="right" class="right"></div>
        </div>


        <div style="display: none;">
            <div id="template-Joystick" class="joystick">
                <div class="joystick-relative">
                    <div class="joystick-relative-stick"></div>
                </div>
            </div>

            <div id="template-SwipeAnalog">
                <div class="button-text" id="skr">You are Nomad Yellow/BlueYouYou are Nomad Yellow/BlueYouYou are Nomad Yellow/BlueYouYou are Nomad Yellow/BlueYouYou are Nomad Yellow/BlueYouYou are Nomad Yellow/BlueYouYou are Nomad Yellow/BlueYouYou are Nomad Yellow/BlueYouYou are Nomad Yellow/BlueYou</div>
            </div>
        </div>

</div>

<script type="text/javascript" src="http://www.airconsole.com/api/airconsole-1.3.0.js"></script>
<script type="text/javascript" src="airconsole-controls/rate-limiter/rate-limiter.js"></script>
<script type="text/javascript" src="airconsole-controls/dpad/dpad.js"></script>
<script type="text/javascript" src="airconsole-controls/joystick/joystick.js"></script>
<script type="text/javascript" src="airconsole-controls/button/button.js"></script>
<script type="text/javascript" src="airconsole-controls/swipe-digital/swipe-digital.js"></script>
<script type="text/javascript" src="airconsole-controls/swipe-analog/swipe-analog.js"></script>
<script type="text/javascript" src="airconsole-controls/swipe-pattern/swipe-pattern.js"></script>
<script type="text/javascript" src="airconsole-controls/ctrl-generator/ctrl-generator.js"></script>
<script type="text/javascript">
    var airconsole = new AirConsole({orientation: AirConsole.ORIENTATION_LANDSCAPE});
    CtrlGenerator.setAirConsole(airconsole);
    CtrlGenerator.generate({"left":{"type":{"label":"SwipeAnalog","class_name":"SwipeAnalog"}},"middle":[],"right":{"type":{"label":"Joystick","class_name":"Joystick"}}});
</script></body></html>